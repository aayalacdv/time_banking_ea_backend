var ne=Object.defineProperty,se=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var Q=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;var F=(n,s,i)=>s in n?ne(n,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[s]=i,z=(n,s)=>{for(var i in s||(s={}))ae.call(s,i)&&F(n,i,s[i]);if(Q)for(var i of Q(s))ie.call(s,i)&&F(n,i,s[i]);return n},O=(n,s)=>se(n,oe(s));var w=(n,s,i)=>(F(n,typeof s!="symbol"?s+"":s,i),i),L=(n,s,i)=>{if(!s.has(n))throw TypeError("Cannot "+i)};var a=(n,s,i)=>(L(n,s,"read from private field"),i?i.call(n):s.get(n)),l=(n,s,i)=>{if(s.has(n))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(n):s.set(n,i)},y=(n,s,i,u)=>(L(n,s,"write to private field"),u?u.call(n,i):s.set(n,i),i);var P=(n,s,i)=>(L(n,s,"access private method"),i);(function(n,s){typeof exports=="object"&&typeof module!="undefined"?s(exports):typeof define=="function"&&define.amd?define(["exports"],s):(n=typeof globalThis!="undefined"?globalThis:n||self,s(n.bruh={}))})(this,function(n){var ce,v,S,de,p,M,A,m,j,f,N,T,E,q;"use strict";class s{constructor(){w(this,"startMarker",document.createTextNode(""));w(this,"endMarker",document.createTextNode(""))}static from(e,t){const o=new this;return e.before(o.startMarker),t.after(o.endMarker),o}before(...e){this.startMarker.before(...e)}prepend(...e){this.startMarker.after(...e)}append(...e){this.endMarker.before(...e)}after(...e){this.endMarker.after(...e)}remove(){const e=document.createRange();e.setStartBefore(this.startMarker),e.setEndAfter(this.endMarker),e.deleteContents()}replaceChildren(...e){const t=document.createRange();t.setStartAfter(this.startMarker),t.setEndBefore(this.endMarker),t.deleteContents(),this.startMarker.after(...e)}replaceWith(...e){this.endMarker.after(...e),this.remove()}get childNodes(){const e=[];for(let t=this.startMarker.nextSibling;t!=this.endMarker&&t;t=t.nextSibling)e.push(t);return e}get children(){return this.childNodes.filter(e=>e instanceof HTMLElement)}}var i=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",LiveFragment:s});const u=Symbol.for("bruh reactive");class J{constructor(e){w(this,ce,!0);l(this,v,void 0);l(this,S,new Set);y(this,v,e)}get value(){return a(this,v)}set value(e){if(e!==a(this,v)){y(this,v,e);for(const t of a(this,S))t()}}addReaction(e){return a(this,S).add(e),()=>a(this,S).delete(e)}}ce=u,v=new WeakMap,S=new WeakMap;const c=class{constructor(e,t){l(this,E);w(this,de,!0);l(this,p,void 0);l(this,M,new Set);l(this,A,void 0);l(this,m,0);l(this,j,new Set);if(!t){y(this,p,e);return}y(this,p,t()),y(this,A,t),y(this,m,Math.max(...e.map(o=>a(o,m)))+1),e.forEach(o=>a(o,j).add(this))}get value(){if(a(c,f).size){if(a(this,m)!==0)c.applyUpdates();else if(a(c,f).has(this))return a(c,f).get(this)}return a(this,p)}set value(e){a(this,m)===0&&(a(c,f).size||queueMicrotask(c.applyUpdates),a(c,f).set(this,e))}addReaction(e){return a(this,M).add(e),()=>a(this,M).delete(e)}static applyUpdates(){var e,t,o;if(!!a(c,f).size){for(const[d,h]of a(c,f).entries())P(e=d,E,q).call(e,h);a(c,f).clear();for(const d of a(c,N))if(d)for(const h of d)P(o=h,E,q).call(o,a(t=h,A).call(t));a(c,N).length=0;for(const d of a(c,T))d();a(c,T).length=0}}};let g=c;de=u,p=new WeakMap,M=new WeakMap,A=new WeakMap,m=new WeakMap,j=new WeakMap,f=new WeakMap,N=new WeakMap,T=new WeakMap,E=new WeakSet,q=function(e){if(e===a(this,p))return;y(this,p,e),a(c,T).push(...a(this,M));const t=a(c,N);for(const o of a(this,j)){const d=a(o,m);t[d]||(t[d]=new Set),t[d].add(o)}},l(g,f,new Map),l(g,N,[]),l(g,T,[]);const X=(r,e)=>new g(r,e),R=(r,e)=>{if(r==null?void 0:r[u])return e(r.value),r.addReaction(()=>e(r.value));e(r)};var H=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",isReactive:u,SimpleReactive:J,FunctionalReactive:g,r:X,reactiveDo:R});const I=r=>(r==null?void 0:r[u])||r instanceof Node||Array.isArray(r)||r==null||!(typeof r=="function"||typeof r=="object"),C=r=>r instanceof Node?r:document.createTextNode(r),k=(...r)=>r.flat(1/0).flatMap(e=>{if(!e[u])return[C(e)];if(Array.isArray(e.value)){const o=new s;return e.addReaction(()=>{o.replaceChildren(...k(...e.value))}),[o.startMarker,...k(...e.value),o.endMarker]}let t=C(e.value);return e.addReaction(()=>{const o=t;t=C(e.value),o.replaceWith(t)}),[t]}),B=(r,e)=>{for(const t in e)R(e[t],o=>{o!==void 0?r.style.setProperty(t,o):r.style.removeProperty(t)})},D=(r,e)=>{for(const t in e)R(e[t],o=>{r.classList.toggle(t,o)})},U=(r,e)=>{for(const t in e)R(e[t],o=>{o!==void 0?r.setAttribute(t,o):r.removeAttribute(t)})},$=r=>{if(!r[u])return document.createTextNode(r);const e=document.createTextNode(r.value);return r.addReaction(()=>{e.textContent=r.value}),e},W=r=>(...e)=>{var _;if(I(e[0])){const b=document.createElement(r);return b.append(...k(...e)),b}const[t,...o]=e,{namespace:d}=(_=t.bruh)!=null?_:{};delete t.bruh;const h=d?document.createElementNS(d,r):document.createElement(r);typeof t.style=="object"&&!t.style[u]&&(B(h,t.style),delete t.style),typeof t.class=="object"&&!t.style[u]&&(D(h,t.class),delete t.class);for(const b in t)b.startsWith("on")&&typeof t[b]=="function"&&(h.addEventListener(b.slice(2),t[b]),delete t[b]);return U(h,t),h.append(...k(...o)),h},G=(r,e,...t)=>{if(typeof r=="string"){const o=W(r);return e?o(e,...t):o(...t)}return r(O(z({},e),{children:t}))},K=({children:r})=>r,Y=()=>{const r={},e=document.getElementsByTagName("bruh-textnode");for(const t of e){const o=document.createTextNode(t.textContent),d=t.getAttribute("tag");d&&(r[d]=o),t.replaceWith(o)}return r};var Z=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",bruhChildrenToNodes:k,applyStyles:B,applyClasses:D,applyAttributes:U,t:$,e:W,h:G,JSXFragment:K,hydrateTextNodes:Y});const V=(r,...e)=>e.reduce((t,o)=>o(t),r),x=(r,e,t)=>r.dispatchEvent(new CustomEvent(e,z({bubbles:!0,cancelable:!0,composed:!0},t))),ee=(r,e)=>{const t=O(z({},r),{[Symbol.iterator]:()=>e[Symbol.iterator]()});return Object.defineProperty(t,Symbol.iterator,{enumerable:!1}),t},te=r=>new Proxy({},{get:(e,t)=>r(t)});var re=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",pipe:V,dispatch:x,createDestructable:ee,functionAsObject:te});n.dom=Z,n.liveFragment=i,n.reactive=H,n.util=re,Object.defineProperty(n,"__esModule",{value:!0}),n[Symbol.toStringTag]="Module"});
//# sourceMappingURL=bruh.umd.js.map
